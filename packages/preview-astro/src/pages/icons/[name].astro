---
import Layout from "../../layouts/Layout.astro";

import { IconsManifest } from "react-icons";
export async function getStaticPaths() {
  return Promise.all(
    IconsManifest.map(async (manifest) => ({
      params: { name: manifest.id },
      props: {
        manifest,
        // There is no need to give hints to Vite as it will be imported during SSG.
        lib: await import(/* @vite-ignore */ `react-icons/${manifest.id}`),
      },
    })),
  );
}

const { name } = Astro.params;
const { manifest, lib } = Astro.props;

// console.log("IconsManifest", "", IconsManifest, lib["Fa500Px"]);
---

<Layout title={`React icons preview for ${manifest.name}`}>
  <div>hello {name}</div>

  <h1>JSON Result</h1>
  <pre><code>{Object.keys(lib).join("\n")}</code></pre>
</Layout>
